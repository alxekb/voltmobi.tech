# voltmobi.tech

### Разработать сервис регистрации событий.

#### Входные данные сервиса. 

Логи сообщений. Папка в файловой системе. В папке - текстовые файлы. Название файла = дата и время добавления файла в папку. Содержимое файла - текстовые строки, разделенные символом переноса строки.

#### Выходные данные сервиса. 

Логи событий. Папка в файловой системе. В папке текстовые файлы. Название файла = название файла из входной папки. Содержимое файла - строки, разделенные символом переноса строки. В каждой строке - json события. Одной строке во входном файле соответствует 0 или 1 или несколько строк в выходном файле с таким же названием. json события содержит в себе: тип события (число), время создания события (системное время), значения атрибутов события (объект data, внутри него - набор полей, специфичный для типа события).

#### Описание АПИ сервиса.

1. Добавить описание нового типа события. На входе - объект. Внутри объекта - тип события, паттерн выделения события (регулярное выражение), паттерны выделения атрибутов (объект data, внутри него - набор полей, специфичный для типа события, значение каждого поля - регулярное выражение).

2. Получить описания всех типов событий. Правила обработки входной строки.

2.1. Входная строка сопоставляется с паттерном выделения каждого события. Считается, что во входной строке найдено событие, если входная строка соответствует паттерну выделения события.

2.2. Для каждого найденного в строке события выполняется поиск значений атрибутов события в соответствии с паттернами выделения атрибутов.

2.3. Во входной строке может содержаться неполный набор атрибутов. Если в описании события указаны N атрибутов, то в выходной строке в json события может быть 0, 1, 2, …, N значений атрибутов.

2.4. Порядок обработки входных строк и записи событий. Файлы обрабатывать в порядке их добавления. Строки в файле - по порядку. Сохранять в выходной файл события из одной строки - в произвольном порядке, но с одним значением временной метки.

Приложить семплы входных и выходных данных.
